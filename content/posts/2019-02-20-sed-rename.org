---
title: "Sed to Rename files"
date: "2019-02-20T09:29:52-05:00"
draft: false
tags: [linux hacks]
katex: true
markup: mmark
---

[[https://www.gnu.org/software/sed/manual/sed.html][Sed]] stands for "Stream editor". Here is a nice way to rename files with regex using sed. I was running a user study today, and mistyped the file prefix. This created 100s of files with the wrong name. My initial thought was to use a script to fix it, but then decided to lookup sed. Here is how I did it:

#+begin_src shell
$ touch fooops_1.txt fooops_2.txt fooops_3.txt
$ ls
#+end_src


Let's say our goal was to type "foobar" as the prefix. Easy to rename with sed!

#+begin_src shell
  $ ls | sed 's/foo\(ops\)\(.*\)/mv & foo_bar\2/'
  mv fooops_1.txt foo_bar_1.txt
  mv fooops_2.txt foo_bar_2.txt
  mv fooops_3.txt foo_bar_3.txt
#+end_src

The key with sed is, it streams its output to stdout. Hence we can pipe it to anything!
Here, we make it output the ~linux move commmand~ and pipe it to ~sh~ to execute the command. Always good to verify command before executing it.

#+begin_src shell
  $ ls | sed 's/foo\(ops\)\(.*\)/mv & foo_bar\3/' | sh
  $ ls
  foo_bar_1.txt foo_bar_2.txt foo_bar_3.txt
#+end_src

* Sed to Rename files
:PROPERTIES:
:ID: sed-to-rename-files
:CUSTOM_ID: hideroamtags
:END:
[[id:b5ca1c71-fca2-4494-abc0-d555f0e9986f][linux hacks]] [[id:145967c8-ebfc-41c6-97ed-d9b7b8a6b415][Blog]]

