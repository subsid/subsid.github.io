<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Sed to Rename files | Siddharth&#39;s Blog</title>
<meta name="keywords" content="linux hacks">
<meta name="description" content="Sed stands for &#34;Stream editor&#34;. Here is a nice way to rename files with regex using sed. I was running a user study today, and mistyped the file prefix. This created 100s of files with the wrong name. My initial thought was to use a script to fix it, but then decided to lookup sed. Here is how I did it:
$ touch fooops_1.txt fooops_2.txt fooops_3.txt $ ls Let&#39;s say our goal was to type &#34;foobar&#34; as the prefix.">
<meta name="author" content="">
<link rel="canonical" href="https://subsid.github.io/posts/2019-02-20-sed-rename/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d3463410ac2a89674895602d3f9ea125f145cedaff93ae56233ad40357020e8e.css" integrity="sha256-00Y0EKwqiWdIlWAtP56hJfFFztr/k65WIzrUA1cCDo4=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://subsid.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://subsid.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://subsid.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://subsid.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://subsid.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4H9QYNJZV1"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-4H9QYNJZV1', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Sed to Rename files" />
<meta property="og:description" content="Sed stands for &#34;Stream editor&#34;. Here is a nice way to rename files with regex using sed. I was running a user study today, and mistyped the file prefix. This created 100s of files with the wrong name. My initial thought was to use a script to fix it, but then decided to lookup sed. Here is how I did it:
$ touch fooops_1.txt fooops_2.txt fooops_3.txt $ ls Let&#39;s say our goal was to type &#34;foobar&#34; as the prefix." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://subsid.github.io/posts/2019-02-20-sed-rename/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-02-20T09:29:52-05:00" />
<meta property="article:modified_time" content="2019-02-20T09:29:52-05:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Sed to Rename files"/>
<meta name="twitter:description" content="Sed stands for &#34;Stream editor&#34;. Here is a nice way to rename files with regex using sed. I was running a user study today, and mistyped the file prefix. This created 100s of files with the wrong name. My initial thought was to use a script to fix it, but then decided to lookup sed. Here is how I did it:
$ touch fooops_1.txt fooops_2.txt fooops_3.txt $ ls Let&#39;s say our goal was to type &#34;foobar&#34; as the prefix."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://subsid.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Sed to Rename files",
      "item": "https://subsid.github.io/posts/2019-02-20-sed-rename/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Sed to Rename files",
  "name": "Sed to Rename files",
  "description": "Sed stands for \u0026#34;Stream editor\u0026#34;. Here is a nice way to rename files with regex using sed. I was running a user study today, and mistyped the file prefix. This created 100s of files with the wrong name. My initial thought was to use a script to fix it, but then decided to lookup sed. Here is how I did it:\n$ touch fooops_1.txt fooops_2.txt fooops_3.txt $ ls Let\u0026#39;s say our goal was to type \u0026#34;foobar\u0026#34; as the prefix.",
  "keywords": [
    "linux hacks"
  ],
  "articleBody": " Sed stands for \"Stream editor\". Here is a nice way to rename files with regex using sed. I was running a user study today, and mistyped the file prefix. This created 100s of files with the wrong name. My initial thought was to use a script to fix it, but then decided to lookup sed. Here is how I did it:\n$ touch fooops_1.txt fooops_2.txt fooops_3.txt $ ls Let's say our goal was to type \"foobar\" as the prefix. Easy to rename with sed!\n$ ls | sed 's/foo\\(ops\\)\\(.*\\)/mv \u0026 foo_bar\\2/' mv fooops_1.txt foo_bar_1.txt mv fooops_2.txt foo_bar_2.txt mv fooops_3.txt foo_bar_3.txt The key with sed is, it streams its output to stdout. Hence we can pipe it to anything! Here, we make it output the linux move commmand and pipe it to sh to execute the command. Always good to verify command before executing it.\n$ ls | sed 's/foo\\(ops\\)\\(.*\\)/mv \u0026 foo_bar\\3/' | sh $ ls foo_bar_1.txt foo_bar_2.txt foo_bar_3.txt Blog:Sed to Rename files linux hacks Blog\n",
  "wordCount" : "165",
  "inLanguage": "en",
  "datePublished": "2019-02-20T09:29:52-05:00",
  "dateModified": "2019-02-20T09:29:52-05:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://subsid.github.io/posts/2019-02-20-sed-rename/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Siddharth's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://subsid.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://subsid.github.io/" accesskey="h" title="Siddharth&#39;s Blog (Alt + H)">Siddharth&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://subsid.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://subsid.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://subsid.github.io/index.xml" title="RSS">
                    <span>RSS</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Sed to Rename files
    </h1>
    <div class="post-meta"><span title='2019-02-20 09:29:52 -0500 EST'>February 20, 2019</span>

</div>
  </header> 
  <div class="post-content">
<p>
<a href="https://www.gnu.org/software/sed/manual/sed.html">Sed</a> stands for &#34;Stream editor&#34;. Here is a nice way to rename files with regex using sed. I was running a user study today, and mistyped the file prefix. This created 100s of files with the wrong name. My initial thought was to use a script to fix it, but then decided to lookup sed. Here is how I did it:</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ touch fooops_1.txt fooops_2.txt fooops_3.txt
</span></span><span style="display:flex;"><span>$ ls</span></span></code></pre></div>
</div>
<p>
Let&#39;s say our goal was to type &#34;foobar&#34; as the prefix. Easy to rename with sed!</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>  $ ls | sed <span style="color:#e6db74">&#39;s/foo\(ops\)\(.*\)/mv &amp; foo_bar\2/&#39;</span>
</span></span><span style="display:flex;"><span>  mv fooops_1.txt foo_bar_1.txt
</span></span><span style="display:flex;"><span>  mv fooops_2.txt foo_bar_2.txt
</span></span><span style="display:flex;"><span>  mv fooops_3.txt foo_bar_3.txt</span></span></code></pre></div>
</div>
<p>
The key with sed is, it streams its output to stdout. Hence we can pipe it to anything!
Here, we make it output the <code>linux move commmand</code> and pipe it to <code>sh</code> to execute the command. Always good to verify command before executing it.</p>
<div class="src src-shell">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>  $ ls | sed <span style="color:#e6db74">&#39;s/foo\(ops\)\(.*\)/mv &amp; foo_bar\3/&#39;</span> | sh
</span></span><span style="display:flex;"><span>  $ ls
</span></span><span style="display:flex;"><span>  foo_bar_1.txt foo_bar_2.txt foo_bar_3.txt</span></span></code></pre></div>
</div>
<div id="outline-container-hideroamtags" class="outline-2">
<h2 id="hideroamtags">
Blog:Sed to Rename files
</h2>
<div id="outline-text-hideroamtags" class="outline-text-2">
<p><a href="id:b5ca1c71-fca2-4494-abc0-d555f0e9986f">linux hacks</a> <a href="id:145967c8-ebfc-41c6-97ed-d9b7b8a6b415">Blog</a></p>
</div>
</div>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://subsid.github.io/tags/linux-hacks/">linux hacks</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://subsid.github.io/">Siddharth&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>


<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
